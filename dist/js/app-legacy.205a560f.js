(function(){"use strict";var e={1246:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var r=n(8935),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("MainDisplay",{attrs:{"app-title":"Evaluations"}},[n("div",{staticClass:"container",attrs:{id:"app"}},[n("nav",[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),n("router-link",{attrs:{to:"/classrooms"}},[e._v("Group")]),e._v(" | "),n("router-link",{attrs:{to:"/evaluations"}},[e._v("Evaluations")])],1),n("router-view")],1)])},s=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("header",{staticClass:"header"},[n("h1",[e._v(e._s(e.appTitle))])]),n("main",[e._t("default")],2),e._m(0)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"footer"},[n("h1",{staticClass:"footer_text"},[e._v("Site by Coto & Alexis")])])}],u={name:"MainDisplay",props:{appTitle:String}},c=u,l=n(1001),d=(0,l.Z)(c,i,o,!1,null,"f4a844cc",null),m=d.exports,p={components:{MainDisplay:m}},f=p,v=(0,l.Z)(f,a,s,!1,null,null,null),b=v.exports,h=n(81),w=n(6978),g=n(9009),_=n(2809),x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("Home")],1)},y=[],C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"})},k=[],D={name:"Home"},R=D,S=(0,l.Z)(R,C,k,!1,null,null,null),T=S.exports,Z={name:"HomeView",components:{Home:T}},A=Z,P=(0,l.Z)(A,x,y,!1,null,null,null),j=P.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BasicListDisplay",{attrs:{title:e.title,"element-list":e.classrooms,ready:e.ready,"mutable-object-add":e.studentToAdd,"message-display-condition":e.showCondition},scopedSlots:e._u([{key:"element_show_display",fn:function(t){return[n("div",{staticClass:"listItemLeft"},[e._v(" "+e._s(t.element.name)+" ")]),n("div",{staticClass:"listItemRight"},[n("router-link",{attrs:{to:{name:"ShowOneClassroom",params:{id:t.element.id_class}}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-pencil"}})],1)],1)]}},{key:"input_field",fn:function(t){return[n("input",{directives:[{name:"model",rawName:"v-model",value:t.mutable.name,expression:"slotProps.mutable.name"}],attrs:{placeholder:"Nom du groupe",type:"text"},domProps:{value:t.mutable.name},on:{input:function(n){n.target.composing||e.$set(t.mutable,"name",n.target.value)}}}),e._v(" "),n("button",{attrs:{disabled:e.addDisabled},on:{click:e.addClass}},[e._v("Ajouter")])]}}])})},E=[],I=n(6198),N=(n(8309),n(8862),n(8975),n(1539),{getDb:function(){return(0,I.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=window.indexedDB.open("evaluationDB",1);n.onerror=function(e){console.log("Error opening db",e),t("Error")},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){console.log("onupgradeneeded");var t=e.target.result;t.createObjectStore("classroom",{autoIncrement:!0,keyPath:"id_class"}),t.createObjectStore("evaluation",{autoIncrement:!0,keyPath:"id_eval"}),t.createObjectStore("student",{autoIncrement:!0,keyPath:"id_student"}),t.createObjectStore("criteria",{autoIncrement:!0,keyPath:"id_crit"})}})));case 1:case"end":return e.stop()}}),e)})))()},addClassToDb:function(e,t){return(0,I.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var r=e.transaction(["classroom"],"readwrite").objectStore("classroom").add(t);r.onsuccess=function(){n()}})));case 1:case"end":return n.stop()}}),n)})))()},deleteClassFromDb:function(e,t){return(0,I.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var r=e.transaction(["student"],"readwrite").objectStore("student");r.openCursor().onsuccess=function(e){var n=e.target.result;n&&(parseInt(n.value.id_class)===parseInt(t)&&r.delete(n.value.id_student),n.continue())};var a=e.transaction(["classroom"],"readwrite").objectStore("classroom").delete(t);a.onsuccess=function(){n()}})));case 1:case"end":return n.stop()}}),n)})))()},getClassroomFromDb:function(e){return(0,I.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){e.transaction(["classroom"],"readwrite").objectStore("classroom").getAll().onsuccess=function(e){t(e.target.result)}})));case 1:case"end":return t.stop()}}),t)})))()},getClassNameFromDb:function(e,t){return(0,I.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.transaction(["classroom"],"readwrite").objectStore("classroom").get(t).onsuccess=function(e){n(e.target.result.name)}})));case 1:case"end":return n.stop()}}),n)})))()},updateClassToDb:function(e,t){return(0,I.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var r=e.transaction(["classroom"],"readwrite").objectStore("classroom"),a=r.get(t.id_class);a.onsuccess=function(){r.put(t).onsuccess=function(){n()}}})));case 1:case"end":return n.stop()}}),n)})))()},getStudentOfClassFromDb:function(e,t){return(0,I.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var r=[];e.transaction(["student"],"readonly").objectStore("student").openCursor().onsuccess=function(e){var n=e.target.result;n&&(parseInt(n.value.id_class)===parseInt(t)&&r.push(n.value),n.continue())},n(r)})));case 1:case"end":return n.stop()}}),n)})))()},addStudentToDb:function(e,t){return(0,I.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var r=e.transaction(["student"],"readwrite").objectStore("student").add(t);r.onsuccess=function(){n()}})));case 1:case"end":return n.stop()}}),n)})))()},updateStudentToDb:function(e,t){return(0,I.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var r=e.transaction(["student"],"readwrite").objectStore("student"),a=r.get(t.id_student);a.onsuccess=function(){r.put(t).onsuccess=function(){n()}}})));case 1:case"end":return n.stop()}}),n)})))()},deleteStudentToDb:function(e,t){return(0,I.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.transaction(["student"],"readwrite").objectStore("student").delete(t.id_student),n()})));case 1:case"end":return n.stop()}}),n)})))()},addEvalToDb:function(e,t){return(0,I.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var r=e.transaction(["evaluation"],"readwrite").objectStore("evaluation").add(t);r.onsuccess=function(){n()}})));case 1:case"end":return n.stop()}}),n)})))()},deleteEvalFromDb:function(e,t){return(0,I.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var r=e.transaction(["evaluation"],"readwrite").objectStore("evaluation").delete(t);r.onsuccess=function(){n()}})));case 1:case"end":return n.stop()}}),n)})))()},getEvaluationFromDb:function(e){return(0,I.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){e.transaction(["evaluation"],"readwrite").objectStore("evaluation").getAll().onsuccess=function(e){t(e.target.result)}})));case 1:case"end":return t.stop()}}),t)})))()},getCriteriasFromDb:function(e,t){return new Promise((function(n){var r=[];e.transaction(["criteria"],"readonly").objectStore("criteria").openCursor().onsuccess=function(e){var n=e.target.result;n&&(parseInt(n.value.id_eval)===parseInt(t)&&r.push(n.value),n.continue())},n(r)}))},addCriteriaToDb:function(e,t){return new Promise((function(n){var r=e.transaction(["criteria"],"readwrite").objectStore("criteria").add(t);r.onsuccess=function(){n()}}))},updateCriteriaToDb:function(e,t){return(0,I.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var r=e.transaction(["criteria"],"readwrite").objectStore("criteria"),a=r.get(t.id_crit);a.onsuccess=function(){r.put(t).onsuccess=function(){n()}}})));case 1:case"end":return n.stop()}}),n)})))()},deleteCriteriaToDb:function(e,t){return(0,I.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.transaction(["criteria"],"readwrite").objectStore("criteria").delete(t.id_crit),n()})));case 1:case"end":return n.stop()}}),n)})))()}}),$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.ready?n("div",{staticClass:"basicListDisplay"},[n("h1",[e._v(e._s(e.title))]),n("div",[e._t("element_display",null,{mutable:e.mutableObjectUpdate})],2),n("ul",{staticClass:"list"},e._l(e.elementList,(function(t){return n("li",{key:t.id,staticClass:"listItem"},[t.updated?n("div",[e._t("element_update_display",null,{element:t})],2):n("div",[e._t("element_show_display",null,{element:t})],2)])})),0),n("div",{staticClass:"add display-input"},[e._t("input_field",null,{mutable:e.mutableObjectAdd}),n("p",{staticClass:"warning"},[e._v(e._s(e.warningMessage))])],2)]):e._e()},F=[],B={name:"BasicListDisplay",props:{ready:Boolean,elementList:Array,title:String,mutableObjectAdd:Object,mutableObjectUpdate:Object,messageDisplayCondition:Boolean},computed:{warningMessage:function(){return this.messageDisplayCondition?"":"Veuillez remplir le(s) champ(s)"}},methods:{}},L=B,U=(0,l.Z)(L,$,F,!1,null,null,null),M=U.exports,V={name:"ClassView",components:{BasicListDisplay:M},props:{},data:function(){return{title:"Gestion des groupes",db:null,ready:!1,addDisabled:!1,classrooms:[],studentToAdd:{name:""}}},created:function(){var e=this;return(0,I.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N.getDb();case 2:return e.db=t.sent,t.next=5,N.getClassroomFromDb(e.db);case 5:e.classrooms=t.sent,e.ready=!0;case 7:case"end":return t.stop()}}),t)})))()},computed:{showCondition:function(){return""!==this.studentToAdd.name}},methods:{addClass:function(){var e=this;return(0,I.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.addDisabled=!0,n={name:e.studentToAdd.name},console.log("about to add "+JSON.stringify(n)),t.next=5,N.addClassToDb(e.db,n);case 5:return t.next=7,N.getClassroomFromDb(e.db);case 7:e.classrooms=t.sent,e.addDisabled=!1;case 9:case"end":return t.stop()}}),t)})))()},deleteClass:function(e){var t=this;return(0,I.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,N.deleteClassFromDb(t.db,e);case 2:return n.next=4,N.getClassroomFromDb(t.db);case 4:t.classrooms=n.sent;case 5:case"end":return n.stop()}}),n)})))()}}},H=V,G=(0,l.Z)(H,O,E,!1,null,null,null),J=G.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("BasicListDisplay",{attrs:{"element-list":e.students,ready:e.ready,"mutable-object-add":e.studentToAdd,title:e.title,"mutable-object-update":e.nameToUpdate,"message-display-condition":e.showCondition},scopedSlots:e._u([{key:"element_display",fn:function(t){return[n("div",{staticClass:"headerList"},[n("div",{staticClass:"headerLeft"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.mutable.name,expression:"slotProps.mutable.name"}],attrs:{type:"text"},domProps:{value:t.mutable.name},on:{input:function(n){n.target.composing||e.$set(t.mutable,"name",n.target.value)}}}),e.showUpdateClassName?n("a",{staticClass:"check",on:{click:e.updateClassName}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-circle-check"}})],1):e._e()]),n("div",{staticClass:"headerRight"},[n("a",{staticClass:"upload",on:{click:function(t){e.showImport=!0}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-upload"}})],1),n("a",{staticClass:"delete",on:{click:function(t){e.showAlert=!0}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-trash"}})],1)])])]}},{key:"element_update_display",fn:function(t){return[n("div",{staticClass:"listItemLeft display-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.element.firstname,expression:"slotProps.element.firstname"}],attrs:{type:"text"},domProps:{value:t.element.firstname},on:{input:function(n){n.target.composing||e.$set(t.element,"firstname",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.element.lastname,expression:"slotProps.element.lastname"}],attrs:{type:"text"},domProps:{value:t.element.lastname},on:{input:function(n){n.target.composing||e.$set(t.element,"lastname",n.target.value)}}})]),n("div",{staticClass:"listItemRight"},[n("a",{staticClass:"check",on:{click:function(n){return e.updateStudent(t.element)}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-circle-check"}})],1),n("a",{staticClass:"delete",on:{click:function(n){return e.deleteStudent(t.element)}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-trash"}})],1)])]}},{key:"element_show_display",fn:function(t){return[n("div",{staticClass:"listItemLeft"},[e._v(" "+e._s(t.element.firstname)+" "+e._s(t.element.lastname)+" ")]),n("div",{staticClass:"listItemRight"},[n("a",{staticClass:"update",on:{click:function(n){return e.toggleUpdateStudent(t.element)}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-pencil"}})],1)])]}},{key:"input_field",fn:function(t){return[n("input",{directives:[{name:"model",rawName:"v-model",value:t.mutable.firstname,expression:"slotProps.mutable.firstname"}],attrs:{placeholder:"Prénom",type:"text"},domProps:{value:t.mutable.firstname},on:{input:function(n){n.target.composing||e.$set(t.mutable,"firstname",n.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.mutable.lastname,expression:"slotProps.mutable.lastname"}],attrs:{placeholder:"Nom",type:"text"},domProps:{value:t.mutable.lastname},on:{input:function(n){n.target.composing||e.$set(t.mutable,"lastname",n.target.value)}}}),e._v(" "),n("button",{staticClass:"mt-4",attrs:{disabled:e.addDisabled},on:{click:e.addStudent}},[e._v("Ajouter")])]}}])}),e.showAlert?n("BasicAlertDisplay",{attrs:{ready:e.ready,"is-little":!0},scopedSlots:e._u([{key:"element_display",fn:function(){return[n("h1",[e._v("Alerte")]),n("p",[e._v("Voulez-vous vraiment supprimer ce groupe ?")])]},proxy:!0},{key:"input_field",fn:function(){return[n("button",{staticClass:"delete-button",attrs:{disabled:e.deleteDisabled},on:{click:e.deleteClass}},[e._v("Supprimer")]),n("button",{staticClass:"cancel-button",attrs:{disabled:e.cancelDisabled},on:{click:function(t){e.showAlert=!1}}},[e._v("Annuler")])]},proxy:!0}],null,!1,2505681875)}):e._e(),e.showImport?n("BasicAlertDisplay",{attrs:{ready:e.ready,message:"Veuillez renseigner un fichier .cvs","show-message":e.showError,"is-little":!1},scopedSlots:e._u([{key:"element_display",fn:function(){return[n("h1",[e._v("Importer une liste")]),n("p",[e._v("Selectionner un fichier")]),n("input",{ref:"file",attrs:{type:"file"}})]},proxy:!0},{key:"input_field",fn:function(){return[n("button",{staticClass:"add-button",attrs:{disabled:e.deleteDisabled},on:{click:e.importStudent}},[e._v("Ajouter")]),n("button",{staticClass:"cancel-button",attrs:{disabled:e.cancelDisabled},on:{click:function(t){e.showImport=!1}}},[e._v("Annuler")])]},proxy:!0}],null,!1,1358691533)}):e._e()],1)},q=[],K=n(7965),Q=(n(6699),n(2023),n(4916),n(3123),n(3210),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.ready?n("div",{staticClass:"basicAlertDisplay"},[n("div",{staticClass:"alertBox",class:e.isLittle?" little":"middle"},[n("div",{staticClass:"headerBox"},[e._t("element_display")],2),n("div",{staticClass:"footerBox"},[e._t("input_field")],2),e.showMessage?n("p",{staticClass:"red"},[e._v(e._s(e.message))]):e._e()])]):e._e()}),W=[],X={name:"BasicAlertDisplay",props:{ready:Boolean,message:String,showMessage:Boolean,isLittle:Boolean},computed:{},methods:{}},Y=X,ee=(0,l.Z)(Y,Q,W,!1,null,null,null),te=ee.exports,ne={name:"OneClassView",components:{BasicAlertDisplay:te,BasicListDisplay:M},props:{},data:function(){return{title:"Gestion des groupes",db:null,id:null,ready:!1,addDisabled:!1,deleteDisabled:!1,cancelDisabled:!1,showAlert:!1,showError:!1,showImport:!1,students:[],lignes:[],defaultName:"",studentToAdd:{firstname:"",lastname:""},nameToUpdate:{name:""}}},computed:{showCondition:function(){return""!==this.studentToAdd.firstname&&""!==this.studentToAdd.lastname},showUpdateClassName:function(){return this.defaultName!==this.nameToUpdate.name}},created:function(){var e=this;return(0,I.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N.getDb();case 2:return e.db=t.sent,e.id=parseInt(e.$route.params.id),t.next=6,N.getStudentOfClassFromDb(e.db,e.id);case 6:return e.students=t.sent,t.next=9,N.getClassNameFromDb(e.db,e.id);case 9:e.nameToUpdate.name=t.sent,e.defaultName=e.nameToUpdate.name,e.ready=!0;case 12:case"end":return t.stop()}}),t)})))()},methods:{previewFiles:function(e){console.log(e.target.files)},toggleUpdateStudent:function(e){var t=this.students.indexOf(e);return t>=0&&(e.updated=!e.updated,r.Z.set(this.students,t,e)),!1},importStudent:function(){var e=this;return(0,I.Z)(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$refs.file.files[0],r=e.id,a=e.db,n){t.next=6;break}return e.showError=!0,t.abrupt("return");case 6:if(!n.name.includes(".csv")){t.next=15;break}return t.next=9,new Promise((function(e){var t=new FileReader;t.onload=function(){var t=(0,I.Z)(regeneratorRuntime.mark((function t(n){var s,i,o,u,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=n.target.result.split("\n"),console.log(n),i=(0,K.Z)(s),t.prev=3,i.s();case 5:if((o=i.n()).done){t.next=15;break}if(u=o.value,c=u.trim().split(";"),console.log(c),2!==c.length){t.next=13;break}return l={id_class:r,firstname:c[0],lastname:c[1]},t.next=13,N.addStudentToDb(a,l);case 13:t.next=5;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](3),i.e(t.t0);case 20:return t.prev=20,i.f(),t.finish(20);case 23:e();case 24:case"end":return t.stop()}}),t,null,[[3,17,20,23]])})));return function(e){return t.apply(this,arguments)}}(),t.readAsText(n)}));case 9:return t.next=11,N.getStudentOfClassFromDb(e.db,e.id);case 11:e.students=t.sent,e.addDisabled=!1,t.next=16;break;case 15:e.showError=!0;case 16:e.showImport=!1;case 17:case"end":return t.stop()}}),t)})))()},updateStudent:function(e){var t=this;return(0,I.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.toggleUpdateStudent(e),n.next=3,N.updateStudentToDb(t.db,e);case 3:case"end":return n.stop()}}),n)})))()},deleteClass:function(){var e=this;return(0,I.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N.deleteClassFromDb(e.db,e.id);case 2:e.$router.push({name:"ShowClassrooms"});case 3:case"end":return t.stop()}}),t)})))()},updateClassName:function(){var e=this;return(0,I.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.defaultName=e.nameToUpdate.name,t.next=3,N.updateClassToDb(e.db,{id_class:e.id,name:e.nameToUpdate.name});case 3:case"end":return t.stop()}}),t)})))()},deleteStudent:function(e){var t=this;return(0,I.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.students.indexOf(e),a>=0&&(e.updated=!e.updated,r.Z["delete"](t.students,a)),n.next=4,N.deleteStudentToDb(t.db,e);case 4:case"end":return n.stop()}}),n)})))()},addStudent:function(){var e=this;return(0,I.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""===e.studentToAdd.firstname||""===e.studentToAdd.lastname){t.next=12;break}return e.addDisabled=!0,n={id_class:e.id,firstname:e.studentToAdd.firstname,lastname:e.studentToAdd.lastname},console.log("about to add "+JSON.stringify(n)),t.next=6,N.addStudentToDb(e.db,n);case 6:return t.next=8,N.getStudentOfClassFromDb(e.db,e.id);case 8:e.students=t.sent,e.studentToAdd.firstname="",e.studentToAdd.lastname="",e.addDisabled=!1;case 12:case"end":return t.stop()}}),t)})))()}}},re=ne,ae=(0,l.Z)(re,z,q,!1,null,null,null),se=ae.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BasicListDisplay",{attrs:{"element-list":e.evaluations,ready:e.ready,"mutable-object-add":e.evaluationToAdd,"message-display-condition":e.showCondition},scopedSlots:e._u([{key:"element_show_display",fn:function(t){return[n("div",{staticClass:"listItemLeft"},[e._v(" "+e._s(t.element.name)+" ")]),n("div",{staticClass:"listItemRight"},[n("router-link",{attrs:{to:{name:"ShowOneEvaluation",params:{id:t.element.id_eval}}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-pencil"}})],1)],1)]}},{key:"input_field",fn:function(t){return[n("input",{directives:[{name:"model",rawName:"v-model",value:t.mutable.name,expression:"slotProps.mutable.name"}],attrs:{type:"text"},domProps:{value:t.mutable.name},on:{input:function(n){n.target.composing||e.$set(t.mutable,"name",n.target.value)}}}),e._v(" "),n("button",{attrs:{disabled:e.addDisabled},on:{click:e.addEvaluation}},[e._v("Ajouter")])]}},{key:"element_update_display",fn:function(t){return[n("div",{staticClass:"listItemLeft display-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.element.firstname,expression:"slotProps.element.firstname"}],attrs:{type:"text"},domProps:{value:t.element.firstname},on:{input:function(n){n.target.composing||e.$set(t.element,"firstname",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.element.lastname,expression:"slotProps.element.lastname"}],attrs:{type:"text"},domProps:{value:t.element.lastname},on:{input:function(n){n.target.composing||e.$set(t.element,"lastname",n.target.value)}}})]),n("div",{staticClass:"listItemRight"},[n("a",{staticClass:"check",on:{click:function(n){return e.updateCriteria(t.element)}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-circle-check"}})],1),n("a",{staticClass:"delete",on:{click:function(n){return e.deleteCriteria(t.element)}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-trash"}})],1)])]}}])})},oe=[],ue={name:"EvaluationView",components:{BasicListDisplay:M},props:{},data:function(){return{db:null,ready:!1,addDisabled:!1,evaluations:[],evaluationToAdd:{name:""}}},computed:{showCondition:function(){return""!==this.evaluationToAdd.name}},created:function(){var e=this;return(0,I.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N.getDb();case 2:return e.db=t.sent,t.next=5,N.getEvaluationFromDb(e.db);case 5:e.evaluations=t.sent,e.ready=!0;case 7:case"end":return t.stop()}}),t)})))()},methods:{addEvaluation:function(){var e=this;return(0,I.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""===e.evaluationToAdd.name){t.next=11;break}return e.addDisabled=!0,n={name:e.evaluationToAdd.name},console.log("about to add "+JSON.stringify(n)),t.next=6,N.addEvalToDb(e.db,n);case 6:return t.next=8,N.getEvaluationFromDb(e.db);case 8:e.evaluations=t.sent,e.evaluationToAdd.name="",e.addDisabled=!1;case 11:case"end":return t.stop()}}),t)})))()},deleteEvaluation:function(e){var t=this;return(0,I.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,N.deleteEvalFromDb(t.db,e);case 2:return n.next=4,N.getEvaluationFromDb(t.db);case 4:t.evaluations=n.sent;case 5:case"end":return n.stop()}}),n)})))()}}},ce=ue,le=(0,l.Z)(ce,ie,oe,!1,null,null,null),de=le.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BasicListDisplay",{attrs:{"element-list":e.criterias,ready:e.ready,"mutable-object-add":e.criteriaToAdd,"message-display-condition":e.bool},scopedSlots:e._u([{key:"input_field",fn:function(t){return[n("input",{directives:[{name:"model",rawName:"v-model",value:t.mutable.name_crit,expression:"slotProps.mutable.name_crit"}],attrs:{type:"text"},domProps:{value:t.mutable.name_crit},on:{input:function(n){n.target.composing||e.$set(t.mutable,"name_crit",n.target.value)}}}),e._v(" "),n("button",{attrs:{disabled:e.addDisabled},on:{click:e.addCriteria}},[e._v("Ajouter le critère")])]}},{key:"element_update_display",fn:function(t){return[n("div",{staticClass:"listItemLeft display-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.element.name_crit,expression:"slotProps.element.name_crit"}],attrs:{type:"text"},domProps:{value:t.element.name_crit},on:{input:function(n){n.target.composing||e.$set(t.element,"name_crit",n.target.value)}}})]),n("div",{staticClass:"listItemRight"},[n("a",{staticClass:"check",on:{click:function(n){return e.updateCriteria(t.element)}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-circle-check"}})],1),n("a",{staticClass:"delete",on:{click:function(n){return e.deleteCriteria(t.element)}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-trash"}})],1)])]}},{key:"element_show_display",fn:function(t){return[n("div",{staticClass:"listItemLeft"},[e._v(" "+e._s(t.element.name_crit)+" ")]),n("div",{staticClass:"listItemRight"},[n("a",{staticClass:"update",on:{click:function(n){return e.toggleUpdateCriteria(t.element)}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-pencil"}})],1)])]}}])})},pe=[],fe={name:"OneEvaluationView",components:{BasicListDisplay:M},props:{},data:function(){return{db:null,id:null,ready:!1,addDisabled:!1,criterias:[],criteriaToAdd:{name_crit:""}}},computed:{bool:function(){return""!==this.criteriaToAdd.name_crit}},created:function(){var e=this;return(0,I.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N.getDb();case 2:return e.db=t.sent,e.id=e.$route.params.id,t.next=6,N.getCriteriasFromDb(e.db,e.id);case 6:e.criterias=t.sent,e.ready=!0;case 8:case"end":return t.stop()}}),t)})))()},methods:{toggleUpdateCriteria:function(e){var t=this.criterias.indexOf(e);return t>=0&&(e.updated=!e.updated,r.Z.set(this.criterias,t,e)),!1},updateCriteria:function(e){var t=this;return(0,I.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.toggleUpdateCriteria(e),n.next=3,N.updateCriteriaToDb(t.db,e);case 3:case"end":return n.stop()}}),n)})))()},deleteCriteria:function(e){var t=this;return(0,I.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.criterias.indexOf(e),a>=0&&(e.updated=!e.updated,r.Z["delete"](t.criterias,a)),n.next=4,N.deleteCriteriaToDb(t.db,e);case 4:case"end":return n.stop()}}),n)})))()},addCriteria:function(){var e=this;return(0,I.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""===e.criteriaToAdd.name_crit){t.next=11;break}return e.addDisabled=!0,n={id_eval:e.id,name_crit:e.criteriaToAdd.name_crit},console.log("about to add "+JSON.stringify(n)),t.next=6,N.addCriteriaToDb(e.db,n);case 6:return t.next=8,N.getCriteriasFromDb(e.db,e.id);case 8:e.criterias=t.sent,e.criteriaToAdd.name_crit="",e.addDisabled=!1;case 11:case"end":return t.stop()}}),t)})))()}}},ve=fe,be=(0,l.Z)(ve,me,pe,!1,null,null,null),he=be.exports;r.Z.use(_.Z);var we=[{path:"/",name:"home",component:j},{path:"/classrooms",name:"ShowClassrooms",component:J},{path:"/classroom/:id",name:"ShowOneClassroom",component:se},{path:"/evaluations",name:"ShowEvaluations",component:de},{path:"/evaluation/:id",name:"ShowOneEvaluation",component:he}],ge=new _.Z({routes:we}),_e=ge;h.vI.add(w.mRB),r.Z.component("font-awesome-icon",g.GN),r.Z.component("font-awesome-layers",g.NH),r.Z.component("font-awesome-layers-text",g.M_),r.Z.config.productionTip=!1,new r.Z({router:_e,render:function(e){return e(b)}}).$mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r](s,s.exports,n),s.loaded=!0,s.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,s){if(!r){var i=1/0;for(l=0;l<e.length;l++){r=e[l][0],a=e[l][1],s=e[l][2];for(var o=!0,u=0;u<r.length;u++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(o=!1,s<i&&(i=s));if(o){e.splice(l--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[r,a,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,s,i=r[0],o=r[1],u=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(u)var l=u(n)}for(t&&t(r);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(l)},r=self["webpackChunkprojet2022"]=self["webpackChunkprojet2022"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(1246)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.205a560f.js.map